{{ define "main" }}
<div class="homepage-container">
    <div class="intro-section">
        <h1>{{ .Title }}</h1>
        {{ with .Content }}
            <div class="site-intro">{{ . }}</div>
        {{ end }}
        {{ with .Site.Params.introduction }}
            <div class="site-intro">{{ . }}</div>
        {{ end }}
    </div>

    <section class="content-section featured-posts">
        <h2>Featured Posts</h2>
        <div class="post-grid">
            {{ range where .Site.RegularPages "Params.featured" true }}
                {{ partial "post-card.html" . }}
            {{ end }}
        </div>
    </section>

    <section class="content-section latest-posts">
        <div class="section-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h2>Latest Posts</h2>
            <a href="{{ "posts" | absURL }}" class="view-all">view all â†’</a>
        </div>
        <div class="post-grid">
            {{ range first 4 (where .Site.RegularPages "Section" "posts") }}
                {{ partial "post-card.html" . }}
            {{ end }}
        </div>
    </section>
</div>
{{ end }}
